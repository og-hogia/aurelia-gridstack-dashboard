<template>
  <require from="gridstack/gridstack.min.css"></require>
  <require from="./styles/styles.scss"></require>

  <page-header>Aurelia Dashboard</page-header>
  <input type="button" click.trigger="toggleFloat()" value="Toggle Float: ${float}"></input>
  <input type="button" click.trigger="showBorder = !showBorder" value="Toggle Dashboard Border"></input>

  <div class="grid-stack ${showBorder ? 'border' : ''}">
    <div class="grid-stack-item"
          ref="domEl"
          repeat.for="widget of widgetDefinitions"
          gs-id="${widget.id}"
          gs-x="${widget.x}"
          gs-y="${widget.y}"
          gs-h="${widget.height}"
          gs-w="${widget.width}"
          gs-no-move="${widget.noMove}"
          gs-no-resize="${widget.noResize}"
          gs-locked="${widget.locked}"
          ar-module="${widget.module}">
          
      <compose view-model="widgets/${widget.module}"     
                containerless
                model.bind="{ cellHeight: cellHeight, widgetDetail: widget, removeWidget: removeWidget }"></compose> 
    </div>
  </div>
</template>